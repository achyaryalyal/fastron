//@version=5
indicator("Trieng Watermark", "", true)

// Constants
color EMPTY = color.new(color.white, 100)
color WHITE = color.new(color.white, 0)
color GREEN = color.new(color.green, 0)
color GOLD = color.rgb(218, 165, 32, 0)
string ST_1 = "         AC=0.4;  HE=0.2;"
string ST_2 = "             ğŸ™…â€â™‚ï¸ Don't close position manually"
string ST_3 = "               ğŸ”‘ Let it be closed by updated SL"

// Inputs
string GRP1               = "â•â•â•â•â•â•â•â•â•â€‚ Box 1 â€‚â•â•â•â•â•â•â•â•â•â•"
string textInput1         = input.string(ST_1,     "Text 1",    group = GRP1)
string infoBoxSizeInput_1 = input.string("normal",  "Size",      inline = "21", group = GRP1, options = ["tiny", "small", "normal", "large", "huge", "auto"])
string infoBoxYPosInput_1 = input.string("top", "â†•",         inline = "21", group = GRP1, options = ["top", "middle", "bottom"])
string infoBoxXPosInput_1 = input.string("center",   "â†”",         inline = "21", group = GRP1, options = ["left", "center", "right"])
int    heightInput_1      = input.int(3,           "Height",    inline = "22", group = GRP1, minval = 1, maxval = 100, tooltip = "1-100")
int    widthInput_1       = input.int(90,          "Width",     inline = "22", group = GRP1, minval = 1, maxval = 100, tooltip = "1-100")
color  textColorInput_1   = input.color(GOLD,     "Text", group = GRP1)
color  bgColorInput_1     = input.color(EMPTY,      "Background", group = GRP1)

string GRP2               = "â•â•â•â•â•â•â•â•â•â€‚ Box 2 â€‚â•â•â•â•â•â•â•â•â•â•"
string textInput2         = input.string(ST_2,     "Text 2",    group = GRP2)
string infoBoxSizeInput_2 = input.string("small",  "Size",      inline = "21", group = GRP2, options = ["tiny", "small", "normal", "large", "huge", "auto"])
string infoBoxYPosInput_2 = input.string("top", "â†•",         inline = "21", group = GRP2, options = ["top", "middle", "bottom"])
string infoBoxXPosInput_2 = input.string("center",   "â†”",         inline = "21", group = GRP2, options = ["left", "center", "right"])
int    heightInput_2      = input.int(3,           "Height",    inline = "22", group = GRP2, minval = 1, maxval = 100, tooltip = "1-100")
int    widthInput_2       = input.int(90,          "Width",     inline = "22", group = GRP2, minval = 1, maxval = 100, tooltip = "1-100")
color  textColorInput_2   = input.color(WHITE,     "Text", group = GRP2)
color  bgColorInput_2     = input.color(EMPTY,      "Background", group = GRP2)

string GRP3               = "â•â•â•â•â•â•â•â•â•â€‚ Box 3 â€‚â•â•â•â•â•â•â•â•â•â•"
string textInput3         = input.string(ST_3,     "Text 3",    group = GRP3)
string infoBoxSizeInput_3 = input.string("small",  "Size",      inline = "21", group = GRP3, options = ["tiny", "small", "normal", "large", "huge", "auto"])
string infoBoxYPosInput_3 = input.string("top", "â†•",         inline = "21", group = GRP3, options = ["top", "middle", "bottom"])
string infoBoxXPosInput_3 = input.string("center",   "â†”",         inline = "21", group = GRP3, options = ["left", "center", "right"])
int    heightInput_3      = input.int(3,           "Height",    inline = "22", group = GRP3, minval = 1, maxval = 100, tooltip = "1-100")
int    widthInput_3       = input.int(90,          "Width",     inline = "22", group = GRP3, minval = 1, maxval = 100, tooltip = "1-100")
color  textColorInput_3   = input.color(GREEN,     "Text", group = GRP3)
color  bgColorInput_3     = input.color(EMPTY,      "Background", group = GRP3)

// Visuals
var watermark = table.new(infoBoxYPosInput_1 + "_" + infoBoxXPosInput_1, 1, 3)
if barstate.islast
    table.cell(watermark, 0, 0, textInput1, widthInput_1, heightInput_1, textColorInput_1, text_size=infoBoxSizeInput_1, bgcolor=bgColorInput_1)
    table.cell(watermark, 0, 1, textInput2, widthInput_2, heightInput_2, textColorInput_2, text_size=infoBoxSizeInput_2, bgcolor=bgColorInput_2)
    table.cell(watermark, 0, 2, textInput3, widthInput_3, heightInput_3, textColorInput_3, text_size=infoBoxSizeInput_3, bgcolor=bgColorInput_3)
